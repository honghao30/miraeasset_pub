<!DOCTYPE html>
<html lang="ko">
    <head></head>
    <body>
        <div class="wrap">
            <div data-include-path="./_inc/head_sub.html"></div>
            <div class="content bg-color-basic1">
                <!-- 마크업 -->
                <div class="tag__wrap scroll-box is-hide">
                    <div class="tag__wrap--inner">
                        <div class="tag">
                            <span>가입설계</span>
                            <button type="button" class="btn-tag-remove"><span class="ir-text">삭제</span></button>                        
                        </div>
                        <div class="tag">
                            <span>청약</span>
                            <button type="button" class="btn-tag-remove"><span class="ir-text">삭제</span></button>                        
                        </div>           
                        <div class="tag">
                            <span>온라인보험서비스</span>
                            <button type="button" class="btn-tag-remove"><span class="ir-text">삭제</span></button>                        
                        </div>      
                        <div class="tag">
                            <span>헬스케어</span>
                            <button type="button" class="btn-tag-remove"><span class="ir-text">삭제</span></button>                        
                        </div>
                        <div class="tag">
                            <span>가입설계</span>
                            <button type="button" class="btn-tag-remove"><span class="ir-text">삭제</span></button>                        
                        </div>
                        <div class="tag">
                            <span>청약</span>
                            <button type="button" class="btn-tag-remove"><span class="ir-text">삭제</span></button>                        
                        </div>           
                        <div class="tag">
                            <span>온라인보험서비스</span>
                            <button type="button" class="btn-tag-remove"><span class="ir-text">삭제</span></button>                        
                        </div>      
                        <div class="tag">
                            <span>헬스케어</span>
                            <button type="button" class="btn-tag-remove"><span class="ir-text">삭제</span></button>                        
                        </div>    
                    </div>                                                           
                </div>           
                <!-- 태그 -->
                <!-- 검색결과 없음 -->
                <div class="search-result-nodata is-hide">
                    <i></i>
                    <div class="msg">
                        <span>"피프티원"</span> 검색 결과가 없습니다.
                    </div>
                </div>
                <!-- 검색결과 없음 -->
                <!-- 탭 -->
                <div class="event__wrap">
                    <div class="tab-content-group">
                        <div class="tab-btns type-icon">
                            <ul class="tab-button-list">
                                <li class="is-active">
                                    <a href="#">
                                        <i class="ico-all"></i>
                                        이벤트
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <i class="ico-common"></i>
                                        당첨자 발표
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="tab-pane1s">
                            <div class="tab-pane1 is-active">
                                <div class="type-infinity">
                                    <ul class="event-list infinity-list">                                        
                                        <li>
                                            <div class="chip__wrap">
                                                <span class="chip bg-primary">
                                                    진행중
                                                </span>
                                            </div>
                                            <a href="#">
                                                <div class="event-thumbnail">
                                                    <img src="../assets/img/temp/template00.png" alt="" />
                                                </div>
                                                <div class="title-area">
                                                    <div class="title">헬스케어 서비스 출시 기념 가입 이벤트! </div>
                                                    <div class="date">2024.03.27 </div>
                                                </div>
                                            </a>
                                        </li> 
                                        <li>
                                            <div class="chip__wrap">
                                                <span class="chip bg-primary">
                                                    진행중
                                                </span>
                                            </div>
                                            <a href="#">
                                                <div class="event-thumbnail">
                                                    <img src="../assets/img/temp/template01.png" alt="" />
                                                </div>
                                                <div class="title-area">
                                                    <div class="title">헬스케어 서비스 출시 기념 가입 이벤트! </div>
                                                    <div class="date">2024.03.27 </div>
                                                </div>
                                            </a>
                                        </li> 
                                        <li class="type-end">
                                            <div class="chip__wrap">
                                                <span class="chip bg-dark">
                                                    종료
                                                </span>
                                            </div>
                                            <a href="#">
                                                <div class="event-thumbnail">
                                                    <img src="../assets/img/temp/template00.png" alt="" />
                                                </div>
                                                <div class="title-area">
                                                    <div class="title">헬스케어 서비스 출시 기념 가입 이벤트! </div>
                                                    <div class="date">2024.03.27 </div>
                                                </div>
                                            </a>
                                        </li>                                                                                 
                                    </ul>
                                    <div class="scroll-target">
                                        <div class="loading"></div>
                                    </div>                                    
                                </div>
                                
                            </div>
                            <div class="tab-pane1">
                                당첨자 발표
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 탭 -->
                <!-- //마크업 -->
            </div>
        </div>        
        <!-- 퍼블 단계에서 공통 영역 include를 위한 스크립트 -->
        <script>
            setTimeout(function(){
                document.querySelector('.document-title').innerText = '이벤트';
            },200)
        </script>
        <script type="module" src="/assets/js/pub_include.js"></script>
        <!-- 퍼블 단계에서 공통 영역 include를 위한 스크립트 -->
        <script type="module">                    
            import { infiniteScroll } from "/assets/js/ui_common.js";
        
            // 전역 변수 및 함수 설정
            const maxItems = 100; // 로드할 최대 아이템 수
            let totalLoadedItems = 0; // 총 로드된 아이템 수를 추적
        
            // 컨텐츠 생성 함수
            const loadMoreContent = async (count = 5) => {
                const contentList = document.querySelector('.infinity-list');
                if (!contentList) {
                    console.error("Content list element not found.");
                    return false;
                }
        
                let hasMoreContent = true;
        
                // 남은 아이템 수를 계산
                const remainingItems = maxItems - totalLoadedItems;
                const newItemsCount = Math.min(count, remainingItems);
        
                for (let i = 0; i < newItemsCount; i++) {
                    const newContent = document.createElement('li');
                    newContent.innerHTML = `
                        <div class="chip__wrap">
                            <span class="chip bg-primary">
                                진행중
                            </span>
                        </div>
                        <a href="#">
                        <div class="event-thumbnail">
                            <img src="../assets/img/temp/template00.png" alt="" />
                        </div>
                        <div class="title-area">
                            <div class="title">헬스케어 서비스 출시 기념 가입 이벤트! </div>
                            <div class="date">2024.03.27 </div>
                        </div>    
                        </a>
                    `;                    
                    contentList.appendChild(newContent);
                    totalLoadedItems++; // 총 로드된 아이템 수 증가
                }
        
                // 더 이상 로드할 아이템이 없으면 hasMoreContent를 false로 설정
                if (totalLoadedItems >= maxItems) {
                    hasMoreContent = false;
                }
        
                return hasMoreContent;
            };
        
            // `infiniteScroll` 함수 호출 시 전역 변수 및 함수 전달
            document.addEventListener('DOMContentLoaded', () => {
                infiniteScroll(loadMoreContent, totalLoadedItems, maxItems);
            });
        </script>

        <script type="text/javascript" src="/assets/bundle/swiper-bundle.min.js"></script>
        <script type="module" src="/assets/js/index.js"></script>
    </body>
</html>
